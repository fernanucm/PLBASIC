10 REM  ****  HP BASIC PROGRAM LIBRARY  **************************
20 REM 
30 REM        LANDER:  ROCKET LANDING VEHICLE
40 REM 
50 REM        36684  REV A  --  10/73
60 REM               REV A-1  --   3/75  BYARD
70 REM  ****  CONTRIBUTED PROGRAM  *******************************
80 REM    PROGRAM LANDER
90 REM 
100 REM 
110 PRINT "WELCOME TO THE PUC SCHOOL FOR BUDDING ASTRONAUTS!"
120 PRINT 
130 PRINT "  DO YOU WANT INSTRUCTIONS?  1=YES ";
140 C = 0 : REM INPUT C
150 PRINT 
160 IF C <> 1 THEN GOTO 440
180 PRINT 
190 PRINT "INITIALLY YOU ARE A GIVEN DISTANCE ABOVE THE SURFACE ";
200 PRINT "MOVING"
210 PRINT "DOWNWARD (VELOCITY IS NEGATIVE)."
220 PRINT "YOU CHOOSE THE AMOUNT OF FUEL TO BE BURNED DURING";
230 PRINT " THE NEXT ONE SECOND."
240 PRINT "OF TIME."
250 PRINT 
260 PRINT "   IF YOU BURN ZERO, THEN YOU WILL FALL FASTER BECAUSE OF ";
270 PRINT "GRAVITY."
280 PRINT "   IF YOU BURN EXACTLY THAT REQUIRED TO OVERCOME GRAVITY, ";
290 PRINT "THEN"
300 PRINT "YOUR VELOCITY WILL BE CONSTANT."
310 PRINT "   IF YOU BURN MORE, THEN YOU WILL SLOW DOWN OR EVEN";
320 PRINT " START TO MOVE"
330 PRINT "UPWARD (VELOCITY IS POSITIVE)!"
340 PRINT 
350 PRINT "THE IDEA IS TO GET THE LANDER DOWN TO THE SURFACE,";
360 PRINT " LANDING WITH AS"
370 PRINT "LITTLE VELOCITY AS POSSIBLE."
380 PRINT "THERE IS MORE THAN ENOUGH FUEL, BUT BE CAREFUL NOT";
390 PRINT " TO WASTE IT!"
400 PRINT 
410 PRINT "LANDING ON THE MOON IS EASIER, TRY THAT FIRST."
420 PRINT 
430 PRINT 
440 PRINT "GOOD LUCK AND HAPPY LANDINGS!"
450 REM 
460 X0 = 0 : V0 = 0
470 PRINT 
480 PRINT 
490 PRINT "LOCATION:  MOON(1) OR EARTH(2)  ";
500 C = 1 : REM INPUT C
510 PRINT 
520 K = 0
530 IF C = 1 THEN GOTO 580
550 IF C = 2 THEN GOTO 580
570 GOTO 490
580 G = 5 + 27 * K
590 M = 30 + 60 * K
600 IF X0 > 0 THEN GOTO 630
620 V0 = -50 - 100 * K : V = V0
630 PRINT "INITIAL CONDITIONS:  STANDARD(1), OLD(2), OR NEW(3) ";
640 D = 1 : REM INPUT D
650 IF D = 1 THEN GOTO 690
670 V = -50 - 100 * K
680 GOTO 760
690 IF D = 2 THEN GOTO 730
710 V = V0
720 GOTO 760
730 X = INT(RND(0) * (100 + K * 100)) * 10 + 100
740 V = -INT(RND(0) * (10 + K * 10)) * 5
750 IF V * V > 2 * (M - G) * X THEN GOTO 740
770 V0 = V
780 F = INT((M * (V ^ 2 + 2 * G * X) / (M - G)) ^ 0.5 * 0.13 + 0.5) * 10
790 PRINT 
800 PRINT "INITIAL HEIGHT:  ";X;" FEET"
810 PRINT "INITIAL VELOCITY:  ";V;" FEET/SEC"
820 PRINT "TOTAL FUEL SUPPLY:  ";F;" UNITS"
830 PRINT "MAXIMUM BURN:  ";M;" UNITS/SEC"
840 PRINT "AMOUNT OF BURN TO CANCEL GRAVITY:  ";G;" UNITS/SEC"
850 PRINT 
860 PRINT 
870 PRINT "TIME","HEIGHT","VELOCI.","FUEL","BURN"
880 PRINT 
890 T = -1
900 T = T + 1
910 PRINT T,X,V,F,"  ";
920 INPUT B
930 B1 = ABS(B)
940 IF B1 <= M THEN GOTO 970
960 GOTO 920
970 T8 = 2 : T9 = T8
980 IF B1 = 0 THEN GOTO 1000
1000 A = B - G
1010 R = V * V - 2 * A * X
1020 IF R < 0 THEN GOTO 1080
1040 T8 = -(V + R ^ 0.5) / A
1050 GOTO 1080
1060 IF V >= 0 THEN GOTO 1080
1080 IF T8 > 0 AND T8 <= 1 OR T9 <= 1 THEN GOTO 1150
1100 V = V + A
1110 F = F - B1
1120 IF X > 1.0E-4 THEN GOTO 900
1140 GOTO 1360
1150 IF T8 > 0 AND T8 <= T9 THEN GOTO 1330
1170 F = 0 : B1 = 0
1180 X = X + V * T9 + A * T9 ^ 2 / 2
1190 V = V + A * T9
1200 A = -G
1210 T8 = (V + (V * V - 2 * A * X) ^ 0.5) / G
1220 IF T8 < 1 - T9 THEN GOTO 1320
1240 V = V + A * (1 - T9)
1250 T = T + 1
1260 PRINT T,X,V
1270 T8 = (V + (V ^ 2 - 2 * A * X) ^ 0.5) / G
1280 IF T8 <= 1 THEN GOTO 1330
1300 V = V + A
1310 GOTO 1250
1320 T = T + T9
1330 F = F - B1 * T8
1340 T = T + T8
1350 V = V + A * T8
1360 PRINT T,0,V,F
1370 PRINT 
1380 PRINT 
1390 IF V < -1 THEN GOTO 1550
1410 IF D = 2 THEN GOTO 1470
1430 IF D = 4 THEN GOTO 1510
1450 PRINT "YOU ARE NOW A QUALIFIED ASTRONAUT."
1460 GOTO 470
1470 PRINT "AS GENTLE AS A KITTEN'S PURR!!"
1480 GOTO 470
1490 PRINT "A BUTTERFLY COULDN'T HAVE DONE BETTER!"
1500 GOTO 470
1510 PRINT "AS SOFT AS A SNOWFLAKE!"
1520 GOTO 470
1530 PRINT "MR. SPOCK WOULD BE PROUD OF YOU!!!"
1540 GOTO 470
1550 IF V < -5 THEN GOTO 1690
1570 IF D = 2 THEN GOTO 1620
1590 IF D = 4 THEN GOTO 1670
1610 GOTO 470
1620 PRINT "IF YOU HAD BEEN DRIVING A 1970 LTD, THAT WOULD HAVE COST";
1630 PRINT " YOU $500!"
1640 GOTO 470
1650 PRINT "ANY FASTER AND YOU WOULD HAVE BOUNCED!"
1660 GOTO 470
1670 PRINT "YOU HAD BETTER CHECK YOU LANDING GEAR!!"
1680 GOTO 470
1690 IF V < -10 THEN GOTO 1860
1710 IF D = 2 THEN GOTO 1770
1730 IF D = 4 THEN GOTO 1810
1750 PRINT "IS YOUR MEDICAL INSURANCE PAID UP??"
1760 GOTO 470
1770 PRINT "YOU GOT DOWN, BUT YOU WILL NEVER BE AN ASTRONAUT!"
1780 GOTO 470
1790 PRINT "NEIL ARMSTRONG DID IT THE FIRST TIME!!"
1800 GOTO 470
1810 PRINT "THE BEST LAID SCHEMES OF MICE AND MEN,"
1820 PRINT "  OFT' GO ASTRAY."
1830 GOTO 470
1840 PRINT "HAVE YOU EVER THOUGHT OF A DIFFERENT LINE OF WORK??"
1850 GOTO 470
1860 D = INT(RND(0) * 3 + 1)
1870 IF D = 2 THEN GOTO 1910
1890 PRINT "YOUR NEXT OF KIN WILL BE NOTIFIED."
1900 GOTO 470
1910 PRINT "YOU JUST CREAMED A 29 MEGABUCK LANDER!"
1920 GOTO 470
1930 PRINT "AREN'T YOU GLAD THIS IS ONLY A COMPUTER SIMULATION!!"
1940 GOTO 470
1950 END
